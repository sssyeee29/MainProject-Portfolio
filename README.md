# 🌍 ECOVERY – AI 사물인식 기반 대형폐기물 분리배출 & 재활용 플랫폼
---

(25.07.07 ~ 25.08.08 - 약 5주)  
1주차 : 프로젝트 기획 및 요구사항 정의, 화면 설계, DB 설계
2주차 : 데이터 수집 및 전처리 (AI 학습용 이미지 확보, 라벨링, 증강)
3주차 : YOLOv8 모델 학습 및 정확도 검증, 중간 점검
4주차 : 백엔드 API 개발, DB 연동, 이미지 업로드 기능 구현
5주차 : 프론트엔드 연동, 배포 환경 구성, AI 모델 연결, 통합 테스트 및 최종 발표   
  
---
# 📚 목차 📚
1. [🌱 프로젝트 소개](#1-프로젝트-소개)
2. [👥 참여자](#2-참여자)
3. [💻 개발환경](#3-개발환경)
4. [⚙️ 기술소개](#4-기술소개)
5. [🗂️ 클래스 구조](#5-클래스-구조)
6. [🖼️ 화면 예시](#6-화면-예시)
7. [🐞 Troubleshooting](#7-troubleshooting)
8. [✨ 개선사항 및 프로젝트 소감](#8-개선사항-및-프로젝트-소감)

---
# 1. 프로젝트 소개
### 🌳 ECOVERY란 ? <br>
&nbsp;&nbsp;&nbsp;&nbsp;Ecovery는 **Eco**(환경)와 **Recovery**(회복)의 합성어로,  
AI 기반 대형폐기물 분류를 비롯해 분리배출 신고, 무료나눔, 재활용 상품 판매, 환경 뉴스 제공까지 한 번에 제공하는 통합 친환경 플랫폼입니다.  
&nbsp;&nbsp;&nbsp;&nbsp;대형폐물 인식 AI와 무료나눔 서비스를 통해 자원 재활용을 촉진하고, 헷갈리는 품목도 간편하게 신고하며, 필요한 물건을 나누고 합리적인 가격으로 재활용 제품을 구매할 수 있습니다. 
또한 신뢰할 수 있는 환경 정보를 한 곳에서 확인하며 환경 보호를 실천할 수 있습니다.

---

### 💡 ECOVERY 개발 의도 <br>
&nbsp;&nbsp;&nbsp;&nbsp;현대 사회에서 생활폐기물은 지속적으로 증가하고 있으며, 특히 대형폐기물은 배출 과정이 복잡하고 불편해 시민들이 혼란을 겪는 경우가 많습니다. 
최근 1인 가구 비율이 전체 가구의 약 35%를 넘어서면서 폐기물 관리 부담은 더욱 커지고 있습니다. 
정책은 꾸준히 개선되고 있지만, 대형폐기물은 지역마다 배출 규정이 달라 시민들의 혼란이 계속 되고 있습니다.   

&nbsp;&nbsp;&nbsp;&nbsp;또한, 여전히 멀쩡한 물건들이 재활용이나 나눔 없이 그대로 폐기되고 있어 매년 약 3조 원의 재활용 가능 자원이 그냥 버려지고 있으며, 이는 자원 낭비와 환경보호에 대한 관심 부족을 심화시키고 있습니다. 
더불어 환경 관련 정보는 파편적으로 흩어져 있어, 시민들이 필요한 정보를 쉽고 빠르게 얻기 어렵습니다. 이로 인해 환경과의 연결은 점점 멀어지고, 실질적인 행동으로 이어지기 어려운 상황입니다.   

#### ECOVERY는 이러한 문제를 해결하기 위해 다음과 같은 목표로 개발되었습니다.   
1. **AI 기반 대형폐기물 인식**을 통해 간편하고 정확한 배출 절차 안내  
2. **무료나눔 플랫폼** 제공으로 사용 가능한 물품의 재사용 촉진    
3. **에코마켓**을 통한 친환경·재활용 상품 판매 및 환경 뉴스 제공  
4. 사용자 친화적인 UI/UX로 누구나 쉽게 환경 보호 활동에 참여 가능하게 설계  

#### 기대효과 
1. AI 이미지 인식을 통해 누구나 쉽게 폐기물 품목을 식별할 수 있습니다.
2. 사용자 데이터를 기반으로 정책 및 시스템 개선이 가능해집니다.
3. 재활용을 장려하여 환경을 생각하는 소비 문화를 조성합니다.
4. 환경 소식을 통해 지속적인 관심과 참여를 확대하고 건강한 환경 문화를 만들어갑니다. 

이를 통해, ECOVERY는 환경 보호를 어렵고 멀게 느끼는 사람들에게 **쉽고 친근한 참여 방법**을 제공하고,    
대형폐기물 배출과 자원 재활용을 보다 효율적이고 편리하게 만들어 지속 가능한 생활 문화를 확산시키는 것을 목표로 합니다.   

---
# 2. 참여자 

✨ 이지혜     
역할: 팀장 / 백엔드 개발     
담당 기능: AI 기반 분리배출 서비스 설계, 관리자 페이지 로직 구현   

<h3>🛠️ 이연수 (본인)</h3>   
<strong>본 프로젝트에서 저는 무료나눔 게시판의 기획·개발을 담당했습니다.</strong><br>
역할: 팀원 / 백엔드 개발 <br>        
담당 기능: AI 데이터 라벨링, 무료나눔 게시판 CRUD·검색, 댓글·대댓글 구현

<br>  
<br>

🗂️ 방희경      
역할: 팀원 / 백엔드 개발      
담당 기능: 회원 관리 기능, 에코마켓  

🔐 노유경  
역할: 팀원 / 백엔드 개발    
담당 기능: 소셜 로그인, 환경톡톡, 공지사항 게시판, Git 버전 관리  

🎨 최은지  
역할: 팀원 / 프론트엔드 개발  
담당 기능: 프론트 구조 설계 및 구현   

---
# 3. 개발환경

### Backend
- Spring Boot 3.4.7  
- Java 17  
- MySQL 8.0  
- MyBatis  
- Gradle  
- IntelliJ IDEA  
- Tomcat 9  
- File Save: Local

### AI Server
- FastAPI (Python)
- YOLOv8

### Frontend
- HTML, CSS, JavaScript  
- VS Code
---
# 4. 기술소개 

### 🌱 Spring Boot  
- 백엔드 전반을 구성하는 핵심 프레임워크로, REST API 기반 서비스 구현  
- MyBatis와 연동하여 게시글, 이미지, 댓글 등 CRUD 로직 처리
- FastAPI 기반 AI 서버와 연동해 이미지 인식 기능 제공 
- **무료나눔 게시판의 등록·조회·수정·삭제 API와 이미지 업로드 API를 구현하는 기반이 됨**

### 🔐 Spring Security  
- 회원 / 관리자 역할에 따른 접근 권한 제어  
- 인증·인가 로직을 커스터마이징하여 Role 기반 보안 구성  
- **무료나눔 게시판에서 비회원은 조회만 가능하고, 회원·관리자는 작성/수정/삭제 가능하도록 권한 설정**

### 🧩 MyBatis  
- SQL 매퍼(XML) 기반의 데이터 접근 계층 구현  
- 동적 SQL을 활용해 검색, 페이징, 조건 분기 로직 처리  
- **무료나눔 게시판 목록 조회(페이징·검색), 상세 조회(이미지 포함), 댓글·대댓글 처리 로직 구현에 사용**

### 🖼 Thymeleaf & JavaScript  
- 게시판, 상세 페이지 등 주요 뷰를 Thymeleaf로 구성하고 동적 UI를 JavaScript로 구현  
- Fetch API 기반 비동기 처리로 댓글, 이미지 업로드, 상태 변경 등 실시간 반영  
- **무료나눔 게시판 UI 구성 및 댓글 등록·수정·삭제, 거래 상태 변경, 이미지 업로드를 비동기 방식으로 처리**

### 🤖 FastAPI & YOLOv8  
- Python 기반 FastAPI 서버를 통해 대형폐기물 이미지 인식 API 제공  
- YOLOv8 모델로 이미지 분류 및 결과 반환  
- **무료나눔 게시판 이미지 라벨링 작업에 활용되어, 업로드 이미지의 카테고리 분류를 지원**

### ⚙ 환경 구성 
- **Gradle**을 통한 빌드 및 의존성 관리
- **Tomcat 9**를 사용해 로컬 및 서버 환경에서 애플리케이션 실행
- 이미지 및 첨부파일은 **Local Storage**방식으로 저장 후 경로 DB 연동
- **MYSQL 8.0** 데이터베이스를 기반으로 모든 게시판 및 사용자 데이터 관리 

<img width="1893" height="1027" alt="image" src="https://github.com/user-attachments/assets/f2609713-accd-40bc-9adc-eae44d6a824e" />

---
# 5. 클래스 구조 
<img width="1917" height="797" alt="image" src="https://github.com/user-attachments/assets/1ecfa40e-8c5a-4272-991e-762cbf8920d9" />

이 다이어그램은 **무료나눔 게시판**의 전체 클래스 구조와 상호 관계를 나타냅니다.  

**구성 흐름**  
`Controller → Service → Mapper → VO/DTO → DB`  

**포함 기능**  
- 게시글 CRUD  
- 이미지 업로드·수정·삭제  
- 댓글·대댓글 관리  
- 페이징 및 검색 기능  

**설계 특징**  
- 각 계층의 역할이 명확히 분리되어 있어 **유지보수성**과 **확장성**이 높음  
- 이미지 처리와 댓글 기능은 **전용 Service·Mapper**로 **독립 관리**  
- DTO는 뷰나 API 응답용 데이터 전송, VO는 DB 테이블과 1:1 매핑  
- MyBatis Mapper + 트랜잭션을 통해 **안정적인 데이터 저장·조회**

---
# 6. 화면 예시 
<details>
<summary><h3>무료나눔 화면구성 보기</h3></summary>

--- 
<h3><무료나눔 메인페이지></h3>
<img width="1367" height="672" alt="{3673829D-A150-4D6A-A69D-CB9DD102EB7F}" src="https://github.com/user-attachments/assets/1283cb16-929d-44de-93b6-8ef31e5cd18b" />
<img width="1227" height="893" alt="{6C3E4669-FB6F-40FB-9B22-4054EBD33E91}" src="https://github.com/user-attachments/assets/bebc16b8-b06b-4d8b-a1cf-3c8df6ffec12" />

🔎 사용하지 않는 물건을 등록하고, 이웃과 나눔을 실천할 수 있는 **무료나눔 커뮤니티 화면**입니다.
* **검색 및 필터 기능**을 통해 원하는 지역이나 물품을 빠르게 찾을 수 있습니다. 
* 나눔 물품은 **카드형 UI**로 제공되며, **대표 이미지 / 제목 / 상태 / 등록일 / 조회수** 정보를 직관적으로 확인할 수 있습니다.
* 페이징 처리를 통해 **여러 개의 나눔 게시글을 효율적으로 탐색**할 수 있습니다.

---
<h3><무료나눔 메인페이지 - 검색기능></h3>
<img width="1196" height="661" alt="{B0B46550-D64E-49E3-873F-63E061705051}" src="https://github.com/user-attachments/assets/0a0616e2-752a-4052-b11b-5ee4a4cb51c3" />

🔎 사용자가 원하는 물품을 **키워드와 조건**으로 빠르게 찾을 수 있는 검색 화면입니다.
* **검색 기준(제목/내용/지역/전체)** 을 선택해 원하는 방식으로 조회할 수 있습니다.
* 입력한 키워드에 해당하는 나눔 물품만 **필터링**되어 보여집니다.
* 검색 결과는 **카드형 UI**로 표시되어, 물품의 **상태 / 위치 / 조회수 / 등록일**을 직관적으로 확인할 수 있습니다.

---
<h3><무료나눔 상세페이지></h3>
<img width="1093" height="987" alt="{38E29525-8320-4E08-8267-2CEBD64FB62E}" src="https://github.com/user-attachments/assets/e8f29148-bb1c-41d7-ab86-f94898bef3f8" />

🔎 로그인하지 않은 사용자도 접근 가능한 **상세 보기 화면**입니다.
* 물품의 **대표 이미지 / 카테고리 / 제목 / 작성자 / 등록일 / 상태 / 나눔 지역**을 확인할 수 있습니다.
* 하단에는 **상세 설명**이 제공되어, 물품의 상태를 세히 알 수 있습니다.
* **수정/삭제 버튼은 표시되지 않아**, 열람만 가능한 화면입니다.  


<img width="936" height="919" alt="{C47015F5-4B02-4EB6-A884-47B27BC264D3}" src="https://github.com/user-attachments/assets/114bcf44-5fa8-4156-9146-bcc9e6af697e" />

🔎 로그인한 사용자 중 **게시글 작성자 및 관리자**에게 제공되는 화면입니다.
* 비회원과 동일하게 **물품 정보 및 상세 설명**을 확인할 수 있습니다.
* 추가적으로, 게시글에 대한 **수정 버튼**과 **삭제 버튼**이 활성화되어 관리 기능을 수행할 수 있습니다.
* 이를 통해 작성자는 본인이 등록한 물품의 정보를 업데이트하거나, 필요 시 게시글을 삭제할 수 있습니다.

---
<h3><무료나눔 등록페이지></h3>
<img width="946" height="893" alt="{19213E0E-960C-4AA5-858D-1A16B7DAFC31}" src="https://github.com/user-attachments/assets/40f749c8-4e45-441b-a569-8dc47304e871" />
<img width="917" height="727" alt="{CA95413D-7EF3-48DA-B401-2663E0829E3A}" src="https://github.com/user-attachments/assets/52dcb53b-385c-4faa-b11c-22c969126a54" />
<img width="923" height="431" alt="{91928654-ADCD-4442-B48D-461B7568ECA0}" src="https://github.com/user-attachments/assets/2147794e-03e0-424c-92d0-3dcde77888f4" />
* 이미지 등록시 미리보기로 보이는 이미지
  
🔎 사용자가 나눔할 물품을 등록하는 화면입니다.
* **제목, 카테고리, 상품 상태, 나눔 지역, 상세 설명** 등을 입력하여 게시글을 작성할 수 있습니다.
* **이미지 업로드 기능**을 제공하며, 업로드한 파일은 **미리보기**로 확인할 수 있습니다.
* 미리보기 이미지는 등록 전 상태를 검토할 수 있도록 하여, **사용자 편의성과 정확성**을 높였습다.
* 모든 입력이 완료되면 **등록 버튼**을 통해 커뮤니티에 게시글을 공유할 수 있습니다.

<img width="1159" height="196" alt="{427A896F-4A62-411B-9F84-081AA7C23164}" src="https://github.com/user-attachments/assets/77ba1952-e1e5-4a90-a521-14bc6ba88c57" />

* 사용자가 나눔글을 등록하면 **등록 확인 모달창**이 나타나, 작성한 내용을 다시 확인할 수 있습니다.
* 등록이 성공적으로 완료되면, 화면에 **“등록이 완료되었습니다” 알림**이 표시됩니다.
* 이를 통해 사용자는 **정상적으로 글이 등록되었는지 직관적으로 확인**할 수 있으며, 곧바로 목록 페이지로 이동해 결과를 확인할 수 있습니다.

---
<h3><무료나눔 수정페이지></h3>
<img width="1163" height="821" alt="{54998963-EE68-4A66-B7EE-77B730FBCC76}" src="https://github.com/user-attachments/assets/9c978e24-047e-43ac-a363-2e9e11522ea1" />

* 게시글 작성자 또는 관리자가 **수정 버튼**을 클릭하면, **“게시글을 수정하시겠습니까?” 모달창**이 표시됩니다.
* 이를 통해 **실수 방지와 사용자 의도 확인**이 가능합니다.

<img width="831" height="881" alt="{18EF4BA8-349D-4E90-A0B1-9A164DC1DCE9}" src="https://github.com/user-attachments/assets/ae4fddd6-ab09-4700-b7ee-811210ec5e25" />
<img width="752" height="568" alt="{79D71A8F-5524-4ABB-85CE-F9BD8B1992B3}" src="https://github.com/user-attachments/assets/1608c296-6f6c-4b71-8e8b-b9ae80b3d0d2" />

* 게시글 작성자 및 관리자는 **등록된 게시글의 모든 정보**를 수정할 수 있습니다.
* 등록 시 자동으로 “나눔등록” 상태로 저장되지만, 수정 페이지에서는 **거래상태(나눔등록 → 나눔완료)** 로 변경할 수 있어 게시글 상태를 관리할 수 있습니다.
* 또한 **이미지 삭제 및 추가 업로드**가 가능하여, 최신 상태의 물품 정보를 제공할 수 있습니니다.

<img width="1349" height="809" alt="{26799F4C-E7E0-4425-A0EF-E68C50EA812C}" src="https://github.com/user-attachments/assets/276dd4aa-b1b7-4109-84f5-d403486e9322" />

* 수정 후에는 **수정 확인 모달창**이 나타나, 사용자가 수정 결과를 바로 확인할 수 있습니다.

<img width="1149" height="778" alt="{5EDEEE15-E105-486A-A8E8-724179C227D1}" src="https://github.com/user-attachments/assets/7a8cbe95-f9a7-4c50-8795-9b7668f930e3" />

* 거래상태가 **‘나눔중’에서 ‘나눔완료’로 변경**되어 반영된 모습을 확인할 수 있습니니다.
* 기존 이미지 2장 중 **1장이 삭제되고, 나머지 1장만 유지**된 상태로 수정 결과가 적용됩니다.

<img width="335" height="398" alt="{19959C15-ADCA-4692-8F4D-D014530167C4}" src="https://github.com/user-attachments/assets/7c288a1e-105e-4e7d-bbcc-cd047d847454" />

* 수정 페이지에서 변경한 **거래상태**는 무료나눔 **메인 목록 화면에도 자동 반영**되어, 사용자들이 최신 상태를 바로 확인할 수 있습니다.

--- 
<h3><무료나눔 삭제></h3>

<img width="1154" height="843" alt="{5A4EA635-4D2A-4E20-BA19-8A8DD82C4CEA}" src="https://github.com/user-attachments/assets/37b7f1a8-763a-4e4a-815a-7e9f741786a4" />

* 상세페이지에서 삭제 버튼을 누르면, 삭제 여부를 한 번 더 확인할 수 있는 모달창이 나타나 실수로 인한 삭제를 방지합니다.

---
<h3><무료나눔 댓글/대댓글 기능></h3>
<img width="844" height="745" alt="{A04AE862-8E9A-42EF-8E37-82D4DFF0C8B8}" src="https://github.com/user-attachments/assets/924d9c4d-0c24-446c-8c5b-1e4d52016e4e" />

* 상세페이지 하단에는 **댓글 등록 창**이 있어 사용자가 의견이나 질문을 남길 수 있습니다.
* 등록된 댓글은 **최신순·등록순 정렬** 기능을 통해 원하는 순서로 확인할 수 있으며, **작성자에게만 수정 및 삭제 버튼이 표시**되어 본인이 작성한 댓글만 관리할 수 있습니다.

<img width="815" height="794" alt="{32ECC702-190C-4AA1-AFEB-A8A55B1AE808}" src="https://github.com/user-attachments/assets/48dfd351-8d65-4542-a81e-3ac804854efc" />

* 댓글에서 **대댓글 보기**를 누르면 해당 댓글에 연결된 대댓글 목록이 보여집니다.
또한 목록 하단에는 **대댓글 등록 창**이 제공되어, 사용자들이 댓글에 대한 의견을 이어가며 **계층적인 소통**을 할 수 있습니다.

<img width="801" height="646" alt="{1C8AA672-FD4E-4D5E-A707-DA794D1B8EE0}" src="https://github.com/user-attachments/assets/9b870a11-17af-449a-9695-8ba1762bacf9" />
* 댓글이 많을 경우, **페이징 처리**를 통해 일정 개수 단위로 나누어 보여줍니다.
* 이를 통해 상세페이지의 가독성을 높이고, 사용자는 **페이지 이동 버튼**을 이용해 원하는 댓글 구간을 쉽게 탐색할 수 있습니다.

---
# 7. Troble Shooting – 수정 페이지 데이터/이미지 처리 오류
📌 문제 상황
수정 페이지 진입 시 기존 데이터가 입력 폼에 반영되지 않았고,
이미지를 개별 삭제한 뒤 신규 업로드할 경우 MultipartFile 오류가 발생했습니다.

💥 원인 분석
- 삭제할 이미지와 유지할 이미지를 구분하는 로직이 없었음
- 데이터 바인딩이 DOM 로딩 이전에 이루어져, 초기값이 제대로 반영되지 않음

🔍 해결 방법
1. FreeImgDto에 toBeDeleted 플래그 추가 → 삭제/유지 이미지를 명확히 구분
2. 이미지 개수 제한 개선 → 유지 이미지 + 신규 이미지 합산으로 검증
3. window.free 전역 바인딩 및 DOMContentLoaded 시점 초기화 → 수정 페이지 폼에 기존 데이터 정상 반영

✅ 결과
- 수정 시 기존 데이터와 이미지가 정상적으로 반영됨
- 삭제 후 신규 업로드도 문제없이 동작
- 재입력 최소화 및 동일 문제 재발 방지  

이러한 로직 개선을 통해 사용자 경험을 크게 개선했고, 개발 단계에서도 데이터 처리 흐름을 명확히 구분할 수 있었습니다.
앞으로도 비슷한 문제를 예방하기 위해, 데이터 초기화 시점과 상태 관리 로직을 더 체계적으로 설계하는 습관을 갖게 되었습니다.

---

# 8. 개선사항 및 프로젝트 소감 
이번 프로젝트에서는 무료나눔 게시판을 DB 테이블 설계부터 화면 연결까지, CRUD 전 과정과 댓글·대댓글·검색 기능 등 게시판의 전반적인 개발을 처음부터 끝까지 직접 구현하였습니다.  
처음에는 어떤 개발 흐름으로 진행해야 할지, 필요한 메서드와 필드를 어떻게 구성할지에 대해 많은 고민이 있었으나, 그 과정에서 각 기능에 맞는 최적의 설계를 적용할 수 있었습니다.  

이러한 경험을 통해 각 클래스 간의 흐름과 동작 방식을 더 깊이 이해하게 되었고, 단순한 기능 구현이 아닌 실무와 유사한 개발 과정을 경험할 수 있었습니다. 특히 테이블 설계부터 API, 화면까지 전 과정을 혼자 구현해봄으로써, 개발 단계별로 어떤 요소를 고려해야 하는지와 기능 간의 의존성을 체감할 수 있었습니다. 다만, CRUD 기능을 가진 게시판을 혼자 처음 개발한 터라 기능 확장이 충분하지 못했던 점은 아쉬움으로 남았습니다.  

무료나눔 게시판의 경우, 현재는 댓글과 대댓글로만 나눔 의사를 밝히는 구조이기 때문에 장소나 시간과 같은 세부 협의가 어렵고, 공개된 공간에서 개인정보가 노출될 위험이 있습니다. 이에 따라 안전하게 1:1로 대화할 수 있는 **채팅 기능**을 추가하여 거래 성사 과정을 원활하게 할 필요가 있다고 판단하였습니다.  

또한, 실제 운영을 고려했을 때 부적절한 게시글이나 스팸성 댓글, 악성 사용자로 인한 커뮤니티 품질 저하 가능성을 확인하였습니다.  
이를 예방하고 신뢰도 높은 서비스를 유지하기 위해 **게시글·댓글 신고 기능**과 관리자 검수 절차를 도입하는 것이 필요하다고 생각합니다.  

추가로, 사용자 편의성을 높이기 위해서는 나눔 품목의 상태, 지역, 카테고리 등의 필터링 기능을 강화하고, 거래 완료 시 자동으로 상태가 변경되는 프로세스를 적용하면 좋을 것 같습니다.  
이러한 개선사항은 아직 적용하지 않았지만, 추후 반영한다면 무료나눔 게시판이 단순한 글 게시 기능을 넘어 거래 성사율과 사용자 만족도를 높이는 실질적인 플랫폼으로 발전할 수 있을 것입니다.
